(function(){"use strict";var e={67:function(e,s,t){var a=t(8935),r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],n=t(1001),o={},l=(0,n.Z)(o,r,i,!1,null,null,null),c=l.exports,u=t(2809),d=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-form"},[t("p",{staticClass:"login-form-heading"},[e._v("Sign in to your account")]),t("form",{on:{submit:function(s){return s.preventDefault(),e.login.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"login-form-input",attrs:{type:"text",placeholder:"Enter username",name:"username",id:"username",required:"",required:""},domProps:{value:e.form.username},on:{input:function(s){s.target.composing||e.$set(e.form,"username",s.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"login-form-input",attrs:{type:"password",placeholder:"Enter password",name:"password",id:"password",required:""},domProps:{value:e.form.password},on:{input:function(s){s.target.composing||e.$set(e.form,"password",s.target.value)}}}),t("button",{staticClass:"button",attrs:{type:"submit",disabled:e.submitting||!e.canSubmit}},[e._v("SIGN IN")])])])},m=[],v={name:"login",data(){return{form:{},submitting:!1}},computed:{canSubmit(){return this.form.username&&""!==this.form.username&&this.form.password&&""!==this.form.password}},methods:{login(){this.submitting=!0,this.$store.dispatch("login",this.form).then((()=>{this.submitting=!1}))}}},p=v,f=(0,n.Z)(p,d,m,!1,null,"50eb9473",null),h=f.exports,g=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"grid-container"},[e._m(0),t("aside",{staticClass:"aside"},[e._m(1),t("ul",{staticClass:"aside_list"},[t("li",{staticClass:"aside_list-item",on:{click:function(s){return e.$router.push({name:"dashboard"})}}},[e._v("Dashboard")]),t("li",{staticClass:"aside_list-item",on:{click:function(s){return e.$router.push({name:"dashboard"})}}},[e._v("Users")]),t("li",{staticClass:"aside_list-item"},[e._v("Settings")])]),t("div",{staticClass:"username",on:{click:e.logout}},[e._v("< "+e._s(e.user.username))])]),t("main",{staticClass:"main"},[t("h3",[e._v("Users")]),e.fetchingData?t("placeholder"):e._e(),e.fetchingData?e._e():t("div",{staticClass:"main_overview"},e._l(e.users,(function(s,a){return t("div",{key:a,staticClass:"main_overview_card",style:{background:"url("+s.image+") no-repeat center center / cover"},on:{click:function(t){return e.showDetails(s)}}},[t("div",{staticClass:"middle"},[t("div",{staticClass:"text"},[t("p",[t("strong",[e._v(e._s(s.name))])]),t("p",[e._v(e._s(s.address.city))])])])])})),0)],1)]),e.showModal?t("modal",{attrs:{user:e.selectedUser},on:{close:function(s){e.showModal=!1}}}):e._e()],1)},_=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"menu-icon"},[t("strong",[e._v("☰")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aside_close-icon"},[t("strong",[e._v("×")])])}],C=t(4665),w=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"modal",attrs:{id:"myModal"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("span",{staticClass:"close",on:{click:function(s){return e.$emit("close")}}},[e._v("×")])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"flex-cell image",style:{background:"url("+e.user.image+") no-repeat center center / cover"}}),t("div",{staticClass:"flex-cell content"},[t("p",[e._v("Name: "+e._s(e.user.name))]),t("p",[e._v("Email: "+e._s(e.user.email))]),t("p",[e._v("Phone: "+e._s(e.user.phone))]),t("p",[e._v("Address: "+e._s(e.user.address.street+", "+e.user.address.city))])])])])])])])},b=[],y={name:"modal",props:["user"]},q=y,x=(0,n.Z)(q,w,b,!1,null,"7daede8e",null),$=x.exports,k=function(){var e=this,s=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"main_overview"},[t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])]),t("div",{staticClass:"main_overview_card loading"},[t("div",{staticClass:"placeholder wave"},[t("div",{staticClass:"square"})])])])}],S={name:"placeholder"},O=S,Z=(0,n.Z)(O,k,E,!1,null,"e185190c",null),I=Z.exports,U={name:"index",components:{modal:$,placeholder:I},data(){return{fetchingData:!1,showModal:!1,selectedUser:{}}},computed:{...(0,C.Se)({users:"users",user:"user"})},methods:{getUsers(){this.fetchingData=!0,this.$store.dispatch("getUsers").then((()=>{setTimeout((()=>{this.fetchingData=!1}),3e3)})).catch((()=>{}))},showDetails(e){this.showModal=!0,this.selectedUser=e},logout(){this.$store.dispatch("logout")}},mounted(){this.getUsers();const e=document.querySelector(".menu-icon"),s=document.querySelector(".aside"),t=document.querySelector(".aside_close-icon");function a(e,s){e.classList.contains(s)?e.classList.remove(s):e.classList.add(s)}e.addEventListener("click",(function(){a(s,"active")})),t.addEventListener("click",(function(){a(s,"active")}))}},D=U,N=(0,n.Z)(D,g,_,!1,null,"4d90866d",null),j=N.exports,P=t(6166),M=t.n(P),L=t(7099),A=t.n(L);a.Z.use(C.ZP);let G=null;G=sessionStorage.getItem("user");var T=new C.ZP.Store({state:{users:[],loggedIn:!!G,user:G?JSON.parse(G):null,defaultUser:{username:"admin",password:"1234"}},getters:{users:e=>e.users,user:e=>e.user,loggedIn:e=>e.loggedIn},mutations:{set_users(e,s){e.users=s},set_loggedin_user(e,s){e.user=s,e.loggedIn=!0,sessionStorage.setItem("user",JSON.stringify({username:s.username})),F.push({name:"dashboard"})},logout(e){e.user=null,e.loggedIn=!1,sessionStorage.clear(),F.push({name:"login"})}},actions:{getUsers({commit:e},s){M().get("/users/users.json").then((({data:s})=>{e("set_users",s)})).catch((()=>{}))},login({commit:e,state:s},t){let a=t.username,r=t.password;a!==s.defaultUser.username||r!==s.defaultUser.password?A().fire({icon:"error",title:"Oops...",text:"Incorrect username or password"}):e("set_loggedin_user",t)},logout({commit:e},s){e("logout")}}});a.Z.use(u.Z);const J=[{path:"/",name:"home",component:j,meta:{requiresAuth:!0}},{path:"/users",name:"dashboard",component:j,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:h,meta:{requiresGuest:!0}}],B=new u.Z({routes:J});B.beforeEach(((e,s,t)=>{let a=T.getters.loggedIn;e.matched.some((e=>e.meta.requiresAuth))?a?t():t({path:"/login",query:{redirect:e.fullpath}}):e.matched.some((e=>e.meta.requiresGuest))&&a?t({path:"/users",query:{redirect:e.fullpath}}):t()}));var F=B,z=t(81),H=t(6978),K=t(9009);z.vI.add(H.BC0),a.Z.component("font-awesome-icon",K.GN),a.Z.config.productionTip=!1,new a.Z({router:F,store:T,render:e=>e(c)}).$mount("#app")}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return e[a].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(s,a,r,i){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],i=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](a[l])}))?a.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(u--,1);var c=r();void 0!==c&&(s=c)}}return s}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var r,i,n=a[0],o=a[1],l=a[2],c=0;if(n.some((function(s){return 0!==e[s]}))){for(r in o)t.o(o,r)&&(t.m[r]=o[r]);if(l)var u=l(t)}for(s&&s(a);c<n.length;c++)i=n[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},a=self["webpackChunkusers"]=self["webpackChunkusers"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(67)}));a=t.O(a)})();
//# sourceMappingURL=app.d98863fa.js.map